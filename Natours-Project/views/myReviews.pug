//- extends base

//- block header
//-   header.header
//-     nav.nav.nav--tours
//-         a.nav__el(href='/') All tours
//-     .header__logo
//-         img(src='/img/logo-white.png', alt='Natours logo')
//-   script(src='/js/deleteReview.js')
  
//- block content
//-   main.main(style='position: relative;')
//-     section
//-       .card-container
//-         each review in Reviews
//-             .card
//-                 .card__header
//-                     .card__picture
//-                         .card__picture-overlay &nbsp;
//-                         img.card__picture-img(src=`/img/tours/${review.tour.imageCover}`, alt=`${review.tour.name}`,style='mix-blend-mode:normal; isolation:isolate;')
//-                     h3.heading-tertirary
//-                         span(style='backdrop-filter:blur(6px); background:rgba(255,255,255,0.35); padding:6px 14px; border-radius:12px; font-weight:600; display:inline-block; color:#555; mix-blend-mode:normal; isolation:isolate;') #{review.tour.name}
//-                 .card__details
//-                     input(type='hidden', name='reviewId', value=review._id)
//-                     input(type="hidden", name="tourId", value=review.tour._id)
//-                     p.card__text #{review.review}
//-                 .reviews_rating.stars-container(style='text-align:center; margin-top: 0.5rem; margin-bottom:3rem;')
//-                     .star-container
//-                       - for (let i = 0; i < review.rating; i++)
//-                           svg.reviews__star.reviews__star--active
//-                               use(xlink:href='/img/icons.svg#icon-star')
//-                     // Delete Button
//-                     button.btn.btn--red.deleteReviewBtn(type='button', style='margin-top: 0.5rem;') Delete This Review !


extends base

block header
  header.header
    nav.nav.nav--tours
      a.nav__el(href='/') All tours
    .header__logo
      img(src='/img/logo-white.png', alt='Natours logo')
  script(src='/js/deleteReview.js')

block content
  main.main(style='position: relative;')
    section
      .card-container
        each review in Reviews
          if review.tour
            .card
              .card__header
                .card__picture
                  .card__picture-overlay &nbsp;
                  img.card__picture-img(
                    src=`/img/tours/${review.tour.imageCover}`,
                    alt=`${review.tour.name}`,
                    style='mix-blend-mode:normal; isolation:isolate;'
                  )
                h3.heading-tertirary
                  span(style='backdrop-filter:blur(6px); background:rgba(255,255,255,0.35); padding:6px 14px; border-radius:12px; font-weight:600; display:inline-block; color:#555; mix-blend-mode:normal; isolation:isolate;')
                    #{review.tour.name}
              .card__details
                input(type='hidden', name='reviewId', value=review._id)
                input(type="hidden", name="tourId", value=review.tour._id)
                p.card__text #{review.review}
              .reviews_rating.stars-container(style='text-align:center; margin-top: 0.5rem; margin-bottom:3rem;')
                .star-container
                  - for (let i = 0; i < review.rating; i++)
                    svg.reviews__star.reviews__star--active
                      use(xlink:href='/img/icons.svg#icon-star')
                button.btn.btn--red.deleteReviewBtn(type='button', style='margin-top: 0.5rem;') Delete This Review !
          else
            .card
              p(style='padding:10px; color:#555; font-style:italic;')
                | Tour information not available for review ID: #{review._id}
